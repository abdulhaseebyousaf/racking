
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Solar Racking Dashboard - Logo Added</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
<script src="https://unpkg.com/scrollreveal"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <style>
         @media screen and (max-width: 1440px) {
  #customQzToggle {
    width: 13px !important;
    height: 20px !important;
    margin-right: 1px !important;
}
}
@media screen and (max-width: 1318px) {
  .forms-area {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
  .live-tips-side{
        margin: 0 20px !important ;
  }
  #customQzToggle
  {
    width: 16px !important;
    height: 20px !important;
    margin-right: 5px!important;
  }
  .container-box {
    padding:30px 20px !important;
  }
}
@media screen and (max-width: 686px) {
.forms-area {
grid-template-columns: 1fr !important;   
}
.header-section {
  flex-direction:column !important ;
  gap: 12px !important;
}

.search-bar {
  width: 100% !important;
}
.button {
  right: inherit !important;

}
.project-location {
    font-size: 26px !important;
}
}
@media screen and (max-width: 438px) {
      .outer {
padding: 0 !important;
      }
      .live-tips-side button {
        padding: 5px 9px !important;
        gap: 5px !important;
        font-size: 13px;
      }
      
      .anoter-arrow {
display: none  !important;
      }
      .label{
        font-size: 11px !important;
      }
      .stack input{
        height: 39px !important;
        font-size: 12px !important;
      }
      .subhead span{
        font-size: 11px !important;
      }
          .live-tips-side {
        margin: 0 13px !important;
    }
       .wrapper .unit{
height: 40px !important;
width: 40px !important;
top: 41% !important;
font-size: 12px !important;
       }
       .container-box {
        padding: 25px 15px !important;
       }
      
       .wrapper .unit {
        height: 39px !important;
        width: 39px !important;
        font-size: 12px !important;
       }
       input.form-control {
        height: 39px !important;
        font-size: 11px !important;
       }
       label {
        font-size: 12px !important;
       }
       .input-wrapper .unit{
        height: 39px !important;
        width: 39px !important;
       }
       input.form-control, select.form-control {
    height: 39px !important;
    font-size: 11px !important;
       }
         .select-wrapper .arrow {
       right: 11.5px !important;
        font-size: 18px !important;
    }
       .form .area {
            gap: 15px !important;
       }
       .bottom-right-box {
    padding: 9px !important;
    width: 139px !important;
    height: 139px !important;
 }
 .stack {
    gap: 10px !important;
}
.label {
  margin-bottom: 10px !important;
 }
.title-tab {
    font-size: 13.5px !important;
    padding: 3px !important;
}
.cols-2 {
  margin-top: 0px !important;
}
}
 @media (max-width: 1133px){
    .outer{
      grid-template-columns:1fr !important;
    }
  }
    
    body {
    font-family: 'Inter', sans-serif;
      margin: 0;
    }
.main-Container{
  max-width: 6908px;
  margin: 0 auto;
}
    .container-box {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      padding: 30px;
      min-height: 100vh;
      overflow: hidden;
    background-color: #080606;  
    }
    .header-section {
      display: flex;
      align-items: center ;
      gap: 20px;
      margin-bottom: 30px;
    }
 
    .search-bar {
      background: #e9f8f5;
    border: 2px solid #e9f8f5;
  outline: none;
  padding: 10px 20px;
  border-radius: 10px;
  width: 75.3%;
  font-size: 1rem;
  transition: all 0.3s ease; 
    }
    .search-bar:focus {
  background: #ffffff;                      /* white background */
  border: 2px solid #22b2c5;                /* green border */
  box-shadow: 0 0 0 4px rgba(34,197,94,0.2);/* subtle green glow */
  transform: scale(1.01);                   /* thoda zoom */
}
    .search-bar:hover {
border: 2px solid #6ca0ff;
    }
    .main-content {
      display: flex;
      flex: 1;
      gap: 20px;
    }
    .tabs-side {
      width: 200px;
      background: #f7fdfc;
      border-radius: 15px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .tabs-links {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .tabs-links a {
      text-decoration: none;
      font-weight: 600;
      color: #333;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 15px;
    }
  
    .content-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .forms-area {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      flex-wrap: wrap;
      gap: 20px;
    }
   
    .card-custom {
      background: #d6f5f0;
      border-radius: 15px;
      padding: 20px;
      flex: 1 1 ;
    }
    label {
      font-weight: 600;
    }
    input.form-control, select.form-control {
      height: 45px;
      padding: 10px 12px;
      font-size: 14px;
      border: 1px solid #ccc;
      transition: none;
      font-weight: 600;
      box-shadow: none;
    }

    input.form-control:focus, select.form-control:focus, input.form-control:hover, select.form-control:hover {
      border: 1px solid #6ca0ff;
      background: #fff;
      box-shadow: none;
      outline: none;
    }
    .stack input:focus {
      border: 1px solid #6ca0ff;
      background: #fff;
      box-shadow: none;
      outline: none;
    }
    .stack input:hover{
      border: 1px solid #6ca0ff;
      background: #fff;
      box-shadow: none;
      outline: none;
   }
/* Scrollbar overall track */
::-webkit-scrollbar {
  width: 5px;     /* vertical scrollbar width */
  height: 5px;    /* horizontal scrollbar height */
}

/* Scrollbar track (background) */
::-webkit-scrollbar-track {
  background: #f0f2f8;   /* light grey */
  border-radius: 8px;
}

/* Scrollbar thumb (moving handle) */
::-webkit-scrollbar-thumb {
  background: #d6f5f0;   /* same blue as your inputs border */
  border-radius: 8px;
}

.live-scroll {
  overflow-y: scroll;
  height: 130px;
}
    .live-tips-side {
       background: #a4dfd5;
    border-radius: 15px;
    padding: 20px;  
    }
    .live-tips-side p {
      flex-grow: 1;
      overflow-y: auto;
      margin-top: 10px;
      font-size: 14px;
    }

.live-tips-side img {
  width: 100%; /* Adjust the image to fill the box */
  max-height: 200px; /* Adjust max height if needed */
  object-fit: cover; /* Ensure the image fits nicely inside the box */
}

.bottom-right-box {
  background-color: #f8f9fa;
  padding: 20px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  z-index: 1000; /* Ensure it appears above other content */
width: 200px;  /* Set the width of the box */
  height: 200px; /* Set the height of the box */
  overflow: hidden; /* Hide any content that exceeds the box */
}
.new{
  height: 45px;
    padding: 10px 12px;
    font-size: 14px;
    border: 1px solid #ccc;
    transition: none;
    box-shadow: none;
    text-align:"center";
    background-color: #fff;
    margin-bottom: 8px;
    border-radius: 7px;
    background: #e9ecef;
}

.box-image {
  width: 100%;     /* Ensure image takes up the full width */
  height: 100%;    /* Ensure image takes up the full height */
  object-fit: cover; /* Ensure the image fills the box, while maintaining its aspect ratio */
  border-radius: 15px; /* Optional: gives the image rounded corners */
}

.calculate-btn {
  display: inline-block;
  padding: 10px 60px;
  font-weight: bold;
  cursor: pointer;
     border: none;
      border-radius: 5px;
      color: white;
      font-size: 20px;
  background: rgb(11, 83, 11);
}
/* From Uiverse.io by mrhyddenn */ 
.button {
 -moz-appearance: none;
  -webkit-appearance: none;
  appearance: none;
  border: none;
  background: none;
  color: #0f1923;
  cursor: pointer;
  position: fixed;   /* 🔴 relative → fixed */
  right: 30px;       /* right side se distance */
  bottom: 22%;      /* niche corner me (agar upar chahiye to top:20px use karo) */
  padding: 5px;
  width: 13.2%;
  min-width: 200px;
  font-size: 18px;
  font-weight: bold;
  transition: all .15s ease;
  z-index: 9999;     /* sabse upar rahega */
}

.button::before,
.button::after {
  content: '';
  display: block;
  position: absolute;
  right: 0;
  left: 0;
  height: calc(50% - 5px);
  border: 1px solid #7D8082;
  transition: all .15s ease;
}

.button::before {
  top: 0;
  border-bottom-width: 0;
}

.button::after {
  bottom: 0;
  border-top-width: 0;
}

.button:active,
.button:focus {
  outline: none;
}

.button:active::before,
.button:active::after {
  right: 3px;
  left: 3px;
}

.button:active::before {
  top: 3px;
}

.button:active::after {
  bottom: 3px;
}

.button_lg {
  position: relative;
  display: block;
  padding: 10px 20px;
  color: #fff;
  background-color: rgb(13, 99, 13);
  overflow: hidden;
  box-shadow: inset 0px 0px 0px 1px transparent;
}

.button_lg::before {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  background-color: #0f1923;
}

.button_lg::after {
  content: '';
  display: block;
  position: absolute;
  right: 0;
  bottom: 0;
  width: 4px;
  height: 4px;
  background-color: #0f1923;
  transition: all .2s ease;
}

.button_sl {
  display: block;
  position: absolute;
  top: 0;
  bottom: -1px;
  left: -8px;
  width: 0;
  background-color: #ff4655;
  transform: skew(-15deg);
  transition: all .2s ease;
}

.button_text {
  position: relative;
}

.button:hover {
  color: #0f1923;
}

.button:hover .button_sl {
  width: calc(100% + 15px);
}

.button:hover .button_lg::after {
  background-color: #fff;
}

#Box {
  display: flex;
  gap: 10px;
  width: 100%;
}
#customQzToggle{
  width: 20px;
  height: 20px;
  margin-right: 6px;
}
.wrapper {
  position: relative;
}
.wrapper .unit:hover {
background-color:#025a60 ;
transition: all 0.3s ease-in;
}
.input-wrapper .unit:hover {
background-color:#025a60 ;
transition: all 0.3s ease-in;
}

.wrapper .unit{
    position: absolute;
    right: 0px;
    top: 44%;
    transform: translateY(-50%);
    background: #1a1414ef;
    color: white;
    height: 45px;
    width: 46px;
    border-radius: 4px;
    font-size: 0.85rem;
    cursor: pointer;
    display: flex;
    justify-content: center;
    user-select: none;
    align-items: center;
}
    table {
      width: 100%;
      margin-top: 10px;
      background: #fff;
      border-collapse: collapse;

    }
    th, td {
      padding: 10px;
      text-align: center;
      border: 1px solid #ddd;
      font-size: 14px;
    }
    .table-section {
      background: #d6f5f0;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 195px;
      transition: margin-bottom .25s ease;
    }

.input-wrapper {
  position: relative;
}

.input-wrapper input {
  width: 100%;
}

.input-wrapper .unit {
position: absolute;
    right: 0px;
    top: 50%;
    transform: translateY(-50%);
    background: #1a1414ef;
    color: white;
    width: 46px;
    height: 46px;
    border-radius: 4px;
    font-size: 0.85rem;
    cursor: pointer;
    display: flex;
    justify-content: center;
    user-select: none;
    align-items: center;  
}

    .select-wrapper {
      position: relative;
    } 
    /* Flip arrow type */
/* Chrome, Safari, Edge, Opera */
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */

.custom-options {
      position: absolute;
      left: 0;
      right: 0;
      top: 44px;
      background: #fff;
      border: 1px solid #d1d5db;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 8px 24px rgba(0,0,0,.08);
      max-height: 220px;
      overflow-y: auto;
      z-index: 999;
      display: none;
    }
 .custom-option {
      padding: 10px 12px;
      cursor: pointer;
      font-size: 14px;
      line-height: 1.2;
    }

    .custom-option:hover {
      background: #f3f4f6;
    }

    .custom-option.is-selected {
      background: #eef2ff;
      font-weight: 600;
      color: #115e75;
    }
    .select-wrapper .arrow {
      position: absolute;
      right: 7px;
      top: 46%;
      transform: translateY(-50%) rotate(0deg);
      transition: transform 0.25s ease;
      font-size: 25px;
      color: #374151;
      pointer-events: none; /* click JS se handle hoga */
    }
    
.project-location {
font-size: 20px;
    font-weight: 700;
    color: aliceblue;
    min-width: 157px;
    margin: 0;
}
 .outer {
   grid-template-columns: 1.1fr 1fr 1fr;
   display: grid;
   position: relative;
    padding: 10px 12px;
    background: white;
    border-radius: 6px;
} 

  .outer > div {
    padding: 22px 16px 16px;
    border: 1px solid #ccc;
  }
 .title-tab{
font-size: 20px;
    padding: 10px;
    margin-bottom: 16px;
text-align: center;
    border-radius:6px;
    font-weight:700;
    white-space:nowrap;
    border: 1px solid #ccc;
    background-color: #e9ecef;

  }
  .tab-on { 
    grid-column:2;
   }
  .tab-off {
     grid-column:3;
     }
     .label{
      font-weight:600; 
      color:black;
       margin-bottom:16px;
       text-align: center;
      }
  .label small{
    font-weight:600;
  }
   .grid{
    display:grid;
     gap:10px
    }
  .cols-2{
    grid-template-columns:repeat(2,1fr)
  }
  .cols-3{
    grid-template-columns:repeat(3,1fr)
  }

  .subhead span{
    font-weight:600; 
    color:black;
    display: flex;
      justify-content: center;
  }
/* for all input disabled  */
    input[readonly], select[disabled]{
      background:#e9ecef;
          border: 1px solid #ccc;
      }
#data-tip {
  font-weight: 600;
}
 .stack{
  display:grid; 
  gap:12px;
}
.stack input{
      height: 45px;
    padding: 10px 12px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 6px;
    width: 100%;
    font-weight: 600;
      text-align: center;
}


  .RailOption:hover {
    border: 1px solid #6ca0ff;
    background: #fff;
    box-shadow: none;
    outline: none;
  }
  .RailOption:focus {
    border: 1px solid #6ca0ff;
    background: #fff;
    box-shadow: none;
    outline: none;
  }

  .RailOption {
        height: 45px;
    padding: 10px 12px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 6px;
    width: 100%;
    text-align: center;
  }
   #tipsPanel {
    transition: max-height .3s ease;
  }
  /* Rotate chevron when collapsed */
  .live-tips-side[data-collapsed="true"] .chevron {
    transform: rotate(-90deg);
  }
  </style>
  <div class="container-box">
  <div class="main-Container">
<div class="header-section">
<h1 class="project-location">Project location</h1>
<input class="search-bar" name="project_location" placeholder="" type="text"/>
<button onclick="calculate() "  class="button">
    <span class="button_lg">
        <span class="button_sl"></span>
        <span  class="button_text">Calculate</span>
    </span>
</button>
</div>
<div class="main-content">
<div class="content-area">
<div class="forms-area">
<div id="firstCard" class="card-custom" data-sr-id="0">
<h5 style="font-weight: 600;" >Dimensions</h5>
<!-- first-->
<div class="input-with-unit">
  <label for="input2">Roof width</label>
  <div class="input-wrapper">
    <input 
      class="form-control mb-2"  name="roof_width" data-tip="Building dimension perpendicular to wind direction." id="input2"  type="number" value="500"
    />
    <span class="unit">m</span>
  </div>
  <img class="preview-src" style="display:none;"  alt="Roof width preview"  src="https://images.unsplash.com/photo-1526779259212-939e64788e3c" alt="">
</div>
<!-- second -->
<div class="input-with-unit">
<label>Roof length</label>
  <div class="input-wrapper">
    <input class="form-control mb-2" name="roof_length"  data-tip="Building dimension parallel to tilt panel direction. For example, if tilt panels are orientated N-S, d will be building dimension parallel to N-S." id="input3"   type="number" value="500">
   <span class="unit">m</span>
  </div>
  <img style="display: none;" class="preview-src" src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f" alt="" srcset="">
</div>
  <label>Roof height (m) and type</label>
  <div class="select-wrapper" >
    <select  class="  form-control mb-2" name="height_type"  data-tip="Hover to see more information about this field." id="input4">
      <option value="h - Mean roof height">h - Mean roof height</option>
      <option value="hmax - Max roof height" >hmin - Min roof height</option>
      <option value="hmin - Min roof height">hmax - Max roof height</option>
    </select>
  </div>
<div class="input-width-unit">
  <div class="input-wrapper">
    <input class="form-control mb-2" name="roof_height" data-tip="Hover to see more information about this field." id="input5"  type="number" value="10"/>
  <span class="unit" >m</span>
  </div>
  <img style="display: none;" class="preview-src" src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d" alt="Preview 1">
</div>
<!--  -->
<div class="input-width-unit">
  <label>Panel width</label>
  <div class="input-wrapper" >
    <input class="form-control mb-2" name="panel_width" data-tip="Hover to see more information about this field." id="input6"  type="number" value="1000"/>
    <span class="unit" >mm</span>
    <img style="display: none;" class="preview-src" src="" alt="Preview 2">
  </div>
</div>

<!--  -->
<div class="input-width-unit">
  <label>Panel length</label>
  <div class="input-wrapper" >
    <input class="form-control mb-2" name="panel_length" data-tip="Hover to see more information about this field." id="input7"  type="number" value="2000"/>
    <span class="unit">mm</span>
  </div>
</div>
<!--  -->
<!-- change inputid -->
<div class="input-width-unit">
  <label>Panel weight</label>
  <div class="input-wrapper">
    <input class="form-control mb-2" name="panel_weight" data-tip="Hover to see more information about this field." id="input888"  type="number" value="25"/>
    <span  class="unit">kg</span>
  </div>
</div>
<div class="input-width-unit">
  <h4 style="margin-top:5px; margin-bottom: 0; font-weight: 600; font-size: 19px;"  class="" >Snow Load</h4>
  <label>Ground snow load (Sg)</label>
  <div class="input-wrapper">
    <input class="form-control mb-2" name="snow_load" data-tip="Hover to see more information about this field." id="input8"  type="number" value="0.00"/>
    <span  class="unit">KPa</span>
  </div>
</div>

</input>
</div>
<!-- first end  -->
<div id="secondCard" class="card-custom" data-sr-id="2">
<h5  style="font-weight: 600;"  class="">Roof Details</h5>
<label class="">Roof shape</label>
<div class="select-wrapper" >
  <select class="form-control mb-2" name="roof_shape" data-tip="Select the shape of the roof." id="input9">
    <option value="Flat">Flat</option>
    <option value="Gable">Gable</option>
    <option value="Hip">Hip</option>
    <option value="Mono-slope">Mono-slope</option>
    <option value="Cantilever">Cantilever</option>
    <option value="Open">Open</option>
  </select>
</div>
<!--  -->
<div class="input-width-unit" >
  <label class="">Roof slope</label>
  <div class="input-wrapper" >
    <input class="form-control mb-2" name="roof_pitch"  data-tip="If pitch &gt;= 10deg, only four zones are required as distance from roof edge is not applicable anymore." id="input10"  type="number" value="3"/>
  <span class="unit">deg</span>
  </div>
</div>
<!--  -->
<label class="">Roof substrate material</label>
<div class="select-wrapper" >
  <select class="form-control mb-2" name="roof_material" data-tip="Hover to see more information about this field." id="input11">
    <option value="Steel">Steel</option>
    <option value="Timber">Timber</option>
    <option value="Concrete">Concrete</option>
  </select>
</div>
<!-- Battens spacing -->
<div class="input-width-unit">
  <label class="">Max. Battens spacing</label>
  <div class="input-wrapper">
    <input class="form-control mb-2" name="purlin_spacing" data-tip="Hover to see more information about this field." id="input12" type="number" 
      value="1200"
    />
    <span class="unit">mm</span>
  </div>
</div>
<!--  -->
<div class="input-width-unit">
  <label class="">Parapet height</label>
  <div class="input-wrapper" >
    <input class="form-control mb-2" name="parapet_height" data-tip="Hover to see more information about this field." id="input13" type="number" value="0"/>
    <span class="unit" >mm</span>
  </div>
</div>

</div>
<!-- third card -->
<div id="thirdCard" class="card-custom" data-sr-id="3">
<h5 style="font-weight: 600;" class="">Mounting System Details</h5>
<label class="">Installation type</label>
<div class="select-wrapper" >
<select  id="installType" class="form-control mb-2" name="installation_type" data-tip="Hover to see more information about this field." >
<option value="A-Flush Mount - Rails Perp to Purlins">A-Flush Mount - Rails Perp to Purlins</option>
<option value="B-Flush Mount - Rails Directly over Purlins">B-Flush Mount - Rails Directly over Purlins</option>
<option value="C-Tilt - Rails Perp to Purlins">C-Tilt - Rails Perp to Purlins</option>
<option value="D-Tilt - Rails Directly over Purlins">D-Tilt - Rails Directly over Purlins</option>
</select>
</div>
<!-- add new label -->
  <label class="">Manufacturer</label>
  <input style="background-color:#e9ecef;"  class="form-control mb-2" name="manufacturer" data-tip="If panels are back to back, then full loading should be considered (Enter shading distance = 0)" disabled id="input21"  type="text" value="Schletter"/>
<label class="">Fasteners</label>
<div class="select-wrapper">
<select class="form-control mb-2 select" name="fasteners"  data-tip="Hover to see more information about this field." id="input18" >
<option value="001-Kliplok High Strength EMU">001-Kliplok High Strength EMU</option>
<option value="002-Kliplok Classic EMU">002-Kliplok Classic EMU</option>
<option value="003-SingleFix Pro">003-SingleFix Pro</option>
<option value="004-TrimFix EMU">004-TrimFix EMU</option>
<option value="005-KingFix EMU">005-KingFix EMU</option>
<option value="006-FixW-1876 Corrugated EMU">006-FixW-1876 Corrugated EMU</option>
<option value="007-Longline Seam Clamps 503 AL EMU">007-Longline Seam Clamps 503 AL EMU</option>
<option value="008-SingleFix HU EMU">008-SingleFix HU EMU</option>
<option value="009-S-5-R465 Mini">009-S-5-R465 Mini</option>
<option value="010-S-5-S Mini">010-S-5-S Mini</option>
<option value="100-RapidPro L - Configuration A">100-RapidPro L - Configuration A</option>
<option value="101-RapidPro L - Configuration B">101-RapidPro L - Configuration B</option>
<option value="102-Rapid2+ Pro SML">102-Rapid2+ Pro SML</option>
<option value="103-Klicktop">103-Klicktop</option>
<option value="104-Roof Hook Standard Proline">104-Roof Hook Standard Proline</option>
</select>
</div>
<label class="">
       Zoning method
      </label>
      <div class="select-wrapper" >
<select class="form-control mb-2" name="zoning_method" data-tip="Hover to see more information about this field." id="input19">
<option value=" 3-Zone Method">
        3-Zone Method
       </option>
<option value="4-Zone Method">
        4-Zone Method
       </option>
      </select>
      </div>
<!-- shadding -->
<div class="input-width-unit" >
  <label class=""> Shading distance</label>
  <div class="input-wrapper">
    <input id="shading"  class="form-control mb-2" name="shading_distance" data-tip="If panels are back to back, then full loading should be considered (Enter shading distance = 0)" id="input21" disabled type="number" value="0"/>
    <span class="unit" >mm</span>
  </div>
</div>
<!-- move here -->
<label  class="">Apply ASCE 7 Section
29.4.3?</label>
<div class="select-wrapper" >
  <select id="applay" class=" form-control mb-2" name="ASCE" data-tip="Hover to see more information about this field." id="input22">
    <option value="Yes">
      Yes
    </option>
    <option value="No">
      No
    </option>
  </select>
</div>
<div class="input-width-unit" >
  <label class="">Tilt angle</label>
  <div class="input-wrapper" >
    <input id="tiltAngle" class="form-control mb-2" name="tilt_angle" data-tip="Hover to see more information about this field." id="input22"  value="5" type="number"/>
  <span class="unit" >deg</span>
  </div>
</div>

  <label class="">No. of panels in a group</label>
  <input id="panelsGroup" class="form-control mb-2" name="no_panels_group"  data-tip="Use only 1 panel as tributary area as analysis is being performed per panel" id="input14" step="1" type="number" value="1"/>
<!--  -->
</div>
<!--forth Card  -->
<div   id="forthCard" class="card-custom" data-sr-id="4">
<h5 style="font-weight: 600;">Wind Parameters</h5>
<!--  add  first box  -->
  <div id="Box" >
    <div class="d-flex flex-column w-100" >
      <label for="input24" class="">Importance level</label>
      <div class="select-wrapper">
      <select class="form-control mb-2" name="importance_level" data-tip="Hover to see more information about this field." id="input24">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
<span class="arrow">&#9662;</span>
      </div>
    </div>
    <!-- desing box -->
     <div id="Box"  >
<div class="d-flex flex-column w-100" >
  <label for="designLife" class="">Design life</label>
  <div class="select-wrapper">
  <select  class="form-control   mb-2" name="design_life" data-tip="Hover to see more information about this field." id="designLife">
    <option value="Temp. Works">Temp. Works</option>
    <option  value="5 years">5 years</option>
     <option value="25 years" selected>25 years</option>
  <option value="50 years">50 years</option>
  </select>
  <span class="arrow">&#9662;</span>
  </div>

</div>
</div>
</div>
<!-- add second box-->
<div id="Box">
<div class="d-flex flex-column w-100">
<label for="input25" class="">Wind region</label>
<div class="select-wrapper">
<select class="form-control mb-2" name="wind_region" data-tip="Hover to see more information about this field." id="input25">
  <option value="A0">A0</option>
  <option value="A1">A1</option>
  <option value="A2">A2</option>
  <option value="A3">A3</option>
  <option value="A4">A4</option>
  <option value="A5">A5</option>
  <option value="B1">B1</option>
  <option value="B2">B2</option>
  <option value="C">C</option>
  <option value="D">D</option>
  <option value="NZ1">NZ1</option>
  <option value="NZ2">NZ2</option>
  <option value="NZ3">NZ3</option>
  <option value="NZ4">NZ4</option>
</select>
<span class="arrow">&#9662;</span>
</div>
</div>
<div class="d-flex flex-column w-100" >
<label class="">Ms factor</label>
 <input class="form-control mb-2" name="ms_factor" data-tip="Hover to see more information about this field." id="input22"  value="1.0" type="number"/>
</div>
</div>
<!-- add  third box -->
<div id="Box">
  <div class="d-flex flex-column w-100" >
<label class="">Terrain category</label>
<input class="form-control mb-2" name="terrain_category" data-tip="Hover to see more information about this field." id="input28" type="number" value="2.0"/> 
  </div>
<div class="d-flex flex-column w-100" >
<label class="">Mt factor</label>
 <input class="form-control mb-2" name="mt_factor" data-tip="Hover to see more information about this field." id="input22"  value="1.0" type="number"/>
</div>
</div>
<!-- add forth box -->
 <div id="Box">
<div class="d-flex flex-column w-100">
<div class="input-width-unit">
  <label for="calcQz" class="">Calculated qz </label>
  <div  class="wrapper   d-flex align-items-center ">
      <input maxlength="3" id="calcQz" disabled class="form-control  mb-2" name="calculated_qz" data-tip="Hover to see more information about this field." id="input22" step="1" value="1.0" type="number"/>
    <span class="unit">kPa</span>
  </div>
</div>
</div>
<div class="d-flex flex-column w-100">
<div class="input-width-unit ">
  <label for="customQzToggle"  class="text-center d-inline-flex flex-nowrap">
    <input  type="checkbox" name="custom_check" id="customQzToggle"> 
   Custom qz? 
  </label>
  <div  class="wrapper d-flex align-items-center ">
 <input id="customQz"  class="form-control  mb-2" name="custom_qz" data-tip="Hover to see more information about this field."  id="input22"  value="1.0" type="number"/>
    <span class="unit">kPa</span>
  </div>
</div>
</div>
 </div>
</div>
</div>
 <!--table-Section -->
<div  class="table-section" data-sr-id="5">
<div class="outer">
  <!-- LEFT: Roof Zone + SLS Pressure -->
  <div>
    <div class="title-tab">Roof Zones & Wind Pressures</div>
    <div  class="grid cols-2">
      <div>
        <div class="label">Roof Zone</div>
           <div class="stack">
          <input value="–" name="zone_1" type="text" readonly="">
          <input value="–" name="zone_2" type="text" readonly="">
          <input value="–" name="zone_3" type="text" readonly="">
          <input value="–" name="zone_4" type="text" readonly="">
          <input value="–" name="zone_5" type="text" readonly="">
          <input value="–" name="zone_6" type="text" readonly="">
          <input value="–" name="zone_7" type="text" readonly="">
        </div>
      </div>

      <div>
        <div class="label">SLS Pressure (kPa)</div>
       <div class="stack">
          <input value="0" name="sls_1" type="text" readonly="">
          <input value="0" name="sls_2" type="text" readonly="">
          <input value="0" name="sls_3" type="text" readonly="">
          <input value="0" name="sls_4" type="text" readonly="">
          <input value="0" name="sls_5" type="text" readonly="">
          <input value="0" name="sls_6" type="text" readonly="">
          <input value="0" name="sls_7" type="text" readonly="">
        </div>
      </div>
    </div>
  </div>

  <!-- MIDDLE: On-Purlin -->
  <div>
    <div class="title-tab">On-Purlin Solution</div>

    <div class="grid cols-3">
      <div class="stack">
        <div class="subhead">
          <span>Rail Type</span>
        </div>
       <input type="number" name="on_number_1" value="2">
        <input type="number" name="on_number_2" value="2">
        <input type="number" name="on_number_3" value="2">
        <input type="number" name="on_number_4" value="2">
        <input type="number" name="on_number_5" value="2">
        <input type="number" name="on_number_6" value="2">
        <input type="number" name="on_number_7" value="2">
      </div>

      <div class="stack">
        <div class="subhead">
          <span>No. of Rails</span>
        </div>
        <div class="select-wrapper" >
          <select class="form-control RailOption" >
            <option value="Pro35">Pro35</option>
            <option value="Pro50">Pro50</option>
            <option value="FixZ Pro">FixZ Pro</option>
          </select>
          <span   style="top: 23px;"class="arrow anoter-arrow">▾</span>
        </div>
        <input value="" name="on_rail_2" type="text" readonly="">
        <input value="" name="on_rail_3" type="text" readonly="">
        <input value="" name="on_rail_4" type="text" readonly="">
        <input value="" name="on_rail_5" type="text" readonly="">
        <input value="" name="on_rail_6" type="text" readonly="">
        <input value="" name="on_rail_7" type="text" readonly="">
      </div>

      <div class="stack">
        <div class="subhead">
      <span>Spacing <p style="margin-bottom: 0px; margin-left: 2px; ">(mm)</p></span>
    </div>
       <input type="number" name="on_spacing_1" value="">
        <input type="number" name="on_spacing_2" value="">
        <input type="number" name="on_spacing_3" value="">
        <input type="number" name="on_spacing_4" value="">
        <input type="number" name="on_spacing_5" value="">
        <input type="number" name="on_spacing_6" value="">
        <input type="number" name="on_spacing_7" value="">
      </div>
    </div>
  </div>

  <!-- RIGHT: Off-Purlin -->
  <div>
    <div class="title-tab">Off-Purlin Solution</div>

    <div class="grid cols-3">
      <div class="stack">
        <div class="subhead">
        <span>No. of Rails</span>
      </div>
         <input type="number" name="off_number_1" value="2">
        <input type="number" name="off_number_2" value="2">
        <input type="number" name="off_number_3" value="2">
        <input type="number" name="off_number_4" value="2">
        <input type="number" name="off_number_5" value="2">
        <input type="number" name="off_number_6" value="2">
        <input type="number" name="off_number_7" value="2">
      </div>

      <div class="stack">
          <div class="subhead">

      <span>Rail Type</span>
    </div>
         <input value="" name="off_rail_1" type="text" readonly="">
        <input value="" name="off_rail_2" type="text" readonly="">
        <input value="" name="off_rail_3" type="text" readonly="">
        <input value="" name="off_rail_4" type="text" readonly="">
        <input value="" name="off_rail_5" type="text" readonly="">
        <input value="" name="off_rail_6" type="text" readonly="">
        <input value="" name="off_rail_7" type="text" readonly="">
      </div>

      <div class="stack">
    <div class="subhead">
      <span>Spacing <p style="margin-bottom: 0px; margin-left: 2px; ">(mm)</p></span>
    </div>
        <input type="number" name="off_spacing_1" value="">
        <input type="number" name="off_spacing_2" value="">
        <input type="number" name="off_spacing_3" value="">
        <input type="number" name="off_spacing_4" value="">
        <input type="number" name="off_spacing_5" value="">
        <input type="number" name="off_spacing_6" value="">
        <input type="number" name="off_spacing_7" value="">
      </div>
    </div>
  </div>

</div>

</div>

</div>
</div>
</div>
</div>
<div class="footer position-fixed w-100 bottom-0">
  <div style="margin: 0 30px;" class="live-tips-side" data-collapsed="false">
    <!-- Header row with title + toggle button (SVG) -->
    <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
      <h5 style="font-weight:700;margin:0;">ℹ️&nbsp; HELP</h5>
    </div>
    <div class="live-scroll" id="tipsPanel" style="margin-top:10px;will-change:max-height;">
      <p id="data-tip">This panel can contain notes, links, help text, etc.</p>
        
      <div class="bottom-right-box">
        <img src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d" alt="" srcset="">
      </div>
    </div>
  </div>
</div>
<script>
    // animations effect
  ScrollReveal({
  distance: '80px',
  duration: 2000,
  reset: false,
});

ScrollReveal().reveal('#firstCard',  { origin: 'left', delay: 0   });
ScrollReveal().reveal('#secondCard', { origin: 'left', delay: 400 });
ScrollReveal().reveal('#thirdCard',  { origin: 'left', delay: 800 });
ScrollReveal().reveal('#forthCard',  { origin: 'left', delay: 1000 });
ScrollReveal().reveal('.table-section',{ origin: 'bottom', delay: 1200 });
 // Change this to your API URL when you deploy to your server/domain.
  // For local testing, use the HTTP port you saw in Visual Studio (e.g., 5232).
  const API_BASE = "https://racking.designdevise.com.au";
  async function calculate() {
    const loading = document.getElementById("loading");
    if (loading) loading.style.display = "block";

    try {
      // 1) Gather inputs (all inputs/selects with data-cell attribute)
      const payload = {};
      document.querySelectorAll('input[data-cell], select[data-cell]').forEach(el => {
        const addr = el.getAttribute('data-cell');
        let val = el.value;
        if (el.type === 'number' && val !== '') val = Number(val);
        payload[addr] = val;
      });

      // 2) POST to our API
      const res = await fetch(`${API_BASE}/calc`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(payload)
      });

      if (!res.ok) {
        const txt = await res.text();
        alert('Error from server: ' + txt);
        return;
      }

      const data = await res.json();
      // 3) Fill outputs (elements with data-cell but not inputs)
      document.querySelectorAll('[data-cell]').forEach(el => {
        const addr = el.getAttribute('data-cell');
        if (el.tagName === 'INPUT' || el.tagName === 'SELECT') return;
        if (addr in data) el.textContent = (data[addr] ?? '').toString();
      });

    } catch (e) {
      alert('Request failed: ' + e.message);
    } finally {
      if (loading) loading.style.display = "none";
    }
  }
  
// for input hover and click to show the data 
   const tooltip = document.getElementById('tooltip');
  const sideInfo = document.querySelector('.live-tips-side p');

  document.querySelectorAll('input, select').forEach(el => {
    el.addEventListener('mouseover', (e) => {
      const tip = e.target.getAttribute('data-tip');
      if (tip) {
        sideInfo.innerText = tip;
        tooltip.innerText = tip;
        tooltip.style.display = 'block';
        tooltip.style.left = e.pageX + 10 + 'px';
        tooltip.style.top = e.pageY + 10 + 'px';
      }
    });
    el.addEventListener('mouseout', () => {
      sideInfo.innerText = "This panel can contain notes, links, help text, etc.";
      tooltip.style.display = 'none';
    });
  });

 const calcQz     = document.getElementById('calcQz');
  const customQz   = document.getElementById('customQz');
  const toggle     = document.getElementById('customQzToggle');
  function syncCustomToCalculated() {
    if (!toggle.checked) {
      customQz.value = calcQz.value;
    }
  }
  toggle.checked = false;
  customQz.disabled = true;
  syncCustomToCalculated();

  calcQz.addEventListener('input', syncCustomToCalculated);

  toggle.addEventListener('change', () => {
    if (toggle.checked) {
      // enable custom editing; keep current value (no overwrite)
      customQz.disabled = false;
      // optional: if empty, start from calculated
      if (!customQz.value) customQz.value = calcQz.value;
    } else {
      // disable and resync to calculated
      customQz.disabled = true;
      syncCustomToCalculated();
    }
  });

  
//   id user choose the option C || D then user add the data
const installType = document.getElementById("installType");
const tilt = document.getElementById("tiltAngle");
const applay = document.getElementById("applay");
const panelsGroup = document.getElementById("panelsGroup");
const shading = document.getElementById("shading");

function controlShading() {
  const val = (installType?.value || "").trim().toUpperCase();
  const isC = val.startsWith("C");
  shading.disabled = !isC;   // C par enable, otherwise disable
  if (!isC) shading.value = 0; // optional: C na ho to reset
}

// initial run + change par update
document.addEventListener("DOMContentLoaded", controlShading);
installType.addEventListener("change", controlShading);

  function toggleFields() {
    if (installType.value.startsWith("C") || installType.value.startsWith("D")) {
      applay.disabled = false;
      tilt.disabled = false;
      panelsGroup.disabled = false;
    } else {
      tilt.disabled = true;
      panelsGroup.disabled = true;
      applay.disabled = true;
    }
  }
  // initial run
  toggleFields();

  // update on change
  installType.addEventListener("change", toggleFields);
     // for arrow and inut dropdown 
    (function () {
      document.querySelectorAll('.select-wrapper').forEach((wrapper) => {
        const select = wrapper.querySelector('select');
        const arrow  = wrapper.querySelector('.arrow');
        const panel = document.createElement('div');
        panel.className = 'custom-options';
        function buildOptions() {
          panel.innerHTML = '';
          Array.from(select.options).forEach((opt, idx) => {
            const row = document.createElement('div');
            row.className = 'custom-option';
            row.textContent = opt.textContent;
            if (opt.selected) row.classList.add('is-selected');
            row.addEventListener('click', () => {
              select.selectedIndex = idx;
              select.dispatchEvent(new Event('change', { bubbles: true }));
              closePanel();
            });
            panel.appendChild(row);
          });
        }

        function openPanel() {
          buildOptions();
          panel.style.display = 'block';
          if (arrow) arrow.style.transform = 'translateY(-50%) rotate(180deg)';
          setTimeout(() => document.addEventListener('click', outsideClose));
        }

        function closePanel() {
          panel.style.display = 'none';
          if (arrow) arrow.style.transform = 'translateY(-50%) rotate(0deg)';
          document.removeEventListener('click', outsideClose);
        }

        function outsideClose(e) {
          if (!wrapper.contains(e.target)) closePanel();
        }

        select.addEventListener('mousedown', (e) => {
          e.preventDefault();
          (panel.style.display === 'block') ? closePanel() : openPanel();
        });

        wrapper.addEventListener('click', (e) => {
          if (e.target.classList.contains('arrow')) {
            (panel.style.display === 'block') ? closePanel() : openPanel();
          }
        });

        select.addEventListener('change', () => {
          if (panel.style.display === 'block') {
            Array.from(panel.children).forEach((row, i) => {
              row.classList.toggle('is-selected', i === select.selectedIndex);
            });
          }
        });

        wrapper.appendChild(panel);
      });
    })();
      // if user choose Concrete option then user not select 
  const substrate = document.getElementById("input11");
  const battens   = document.getElementById("input12");

  function toggleBattens() {
    if (substrate.value === "Concrete") {
      battens.disabled = true;   // greyed out
    } else {
      battens.disabled = false; 
    }
  }

  toggleBattens();

  substrate.addEventListener("change", toggleBattens);
//   for footer 
const WRAP_SELECTOR = '.live-tips-side';   
const PANEL_SELECTOR = '.live-scroll';     
const TITLE_SELECTOR = '.live-scroll h5';  

(function () {
  const wrap = document.querySelector(WRAP_SELECTOR);
  const panel = document.querySelector(PANEL_SELECTOR);
  if (!wrap || !panel) return;
  const tableSections = document.querySelectorAll('.table-section');
  const btn = document.createElement('button');
  btn.type = 'button';
  btn.setAttribute('aria-expanded', 'true');
  btn.setAttribute('aria-controls', 'tipsPanel');
  btn.style.cssText = `
    position:absolute; right:20px; top:13px;
    display:inline-flex; align-items:center; gap:8px;
    background:black; border:1px solid rgba(0,0,0,.12);
    padding:6px 10px; border-radius:10px; cursor:pointer;
    box-shadow:0 1px 2px rgba(0,0,0,.06);font-weight:600; color:white; 
  `;
btn.style.transition = 'background .5s ease, color .5s ease';

btn.addEventListener('mouseenter', () => {
  btn.style.background = '#fff';
  btn.style.color = '#000';
});

btn.addEventListener('mouseleave', () => {
  btn.style.background = 'black';
  btn.style.color = 'white';
});
  const label = document.createElement('span');
  label.textContent = 'Hide';
  // Chevron SVG
  const svgNS = 'http://www.w3.org/2000/svg';
  const chevron = document.createElementNS(svgNS, 'svg');
  chevron.setAttribute('width','16');
  chevron.setAttribute('height','16');
  chevron.setAttribute('viewBox','0 0 24 24');
  chevron.style.transition = 'transform .25s ease';
  const path = document.createElementNS(svgNS, 'path');
  path.setAttribute('d','M6 9l6 6 6-6');
  path.setAttribute('fill','none');
  path.setAttribute('stroke','currentColor');
  path.setAttribute('stroke-width','2');
  path.setAttribute('stroke-linecap','round');
  path.setAttribute('stroke-linejoin','round');
  chevron.appendChild(path);

  btn.appendChild(label);
  btn.appendChild(chevron);

  const prevPos = getComputedStyle(wrap).position;
  if (prevPos === 'static' || !prevPos) wrap.style.position = 'relative';

  wrap.appendChild(btn);
  panel.id = 'tipsPanel';
  panel.style.transition = 'max-height .35s ease';
  const ORIGINAL_FIXED_HEIGHT = parseInt(getComputedStyle(panel).height, 10) || 130;

  function setExpandedHeight() {

    const prev = panel.style.maxHeight;
    panel.style.maxHeight = 'none';
    const full = panel.scrollHeight;

    panel.style.maxHeight = (full || ORIGINAL_FIXED_HEIGHT) + 'px';
    return full;
  }

  function setTableMarginCollapsed() {
    tableSections.forEach(sec => { sec.style.marginBottom = '64px'; });
  }
  function setTableMarginDefault() {
    tableSections.forEach(sec => { sec.style.removeProperty('margin-bottom'); });
  }

  requestAnimationFrame(() => {
    setExpandedHeight();
    setTableMarginDefault(); 
  });

  const ro = new ResizeObserver(() => {
    if (btn.getAttribute('aria-expanded') === 'true') setExpandedHeight();
  });
  ro.observe(panel);

  function collapse() {
    btn.setAttribute('aria-expanded','false');
    label.textContent = 'Show';
    panel.style.maxHeight = '0px';
    chevron.style.transform = 'rotate(-90deg)';
    setTableMarginCollapsed(); 
  }
  function expand() {
    btn.setAttribute('aria-expanded','true');
    label.textContent = 'Hide';
    setExpandedHeight();
    chevron.style.transform = 'rotate(0deg)';
    setTableMarginDefault();   
  }

  btn.addEventListener('click', () => {
    const isOpen = btn.getAttribute('aria-expanded') === 'true';
    if (isOpen) collapse(); else expand();
  });

  btn.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') collapse();
  });

  const titleEl = document.querySelector(TITLE_SELECTOR);
  if (titleEl && titleEl.textContent.trim()) {
    btn.setAttribute('aria-label', `Toggle ${titleEl.textContent.trim()} panel`);
  }

  panel.addEventListener('transitionend', (e) => {
    if (e.propertyName !== 'max-height') return;
    if (btn.getAttribute('aria-expanded') !== 'true') return; 
    const target = document.querySelector('.table-section');
    if (!target) return;

    const scroller = getScrollParent(target);
    if (scroller) {
      scroller.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
    } else {
      const y = target.getBoundingClientRect().top + window.pageYOffset - 10;
      window.scrollTo({ top: y, behavior: 'smooth' });
    }
  });

  function getScrollParent(el) {
    let p = el.parentElement;
    while (p) {
      const s = getComputedStyle(p);
      const oy = s.overflowY;
      const canScroll = (oy === 'auto' || oy === 'scroll') && p.scrollHeight > p.clientHeight;
      if (canScroll) return p;
      p = p.parentElement;
    }
    return null; 
  }
})();

 document.addEventListener("DOMContentLoaded", () => {
  const boxImage = document.querySelector(".bottom-right-box img");
  if (!boxImage) return;

  // default image = jo pehle se boxImage me lagi hai
  const defaultSrc = boxImage.src;

  // sab parent blocks (.input-with-unit) ke liye
  document.querySelectorAll(".input-with-unit").forEach(block => {
    const preview = block.querySelector(".preview-src")?.src;
    if (!preview) return;

    // hover par preview
    block.addEventListener("mouseenter", () => {
      boxImage.src = preview;
    });

    // hover hatne par default wapas
    block.addEventListener("mouseleave", () => {
      boxImage.src = defaultSrc;
    });
  });
});



</script>



</body>
</html>
